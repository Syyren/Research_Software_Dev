@page "{id}"
@model Research_Software_Dev.Pages.Forms.DetailsModel
@{
    ViewData["Title"] = "Form Details";
}

<h1>@Model.Form.FormName Details</h1>

<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Form Name</dt>
        <dd class="col-sm-10">@Model.Form.FormName</dd>

        <dt class="col-sm-2">Questions</dt>
        <dd class="col-sm-10">
            @if (Model.Questions.Any())
            {
                <ul class="list-group">
                    @foreach (var question in Model.Questions)
                    {
                        <li class="list-group-item">
                            <strong>Question #@question.QuestionNumber:</strong> @question.QuestionDescription
                            <br />
                            <small>
                                <strong>Type:</strong> @question.Type
                                @if (!string.IsNullOrEmpty(question.Category))
                                {
                                    <br />
                                    <strong>Category:</strong> @question.Category
                                }
                                @if (question.Options != null && question.Options.Any())
                                {
                                    <br />
                                    <strong>Options:</strong>
                                    <ul>
                                        @foreach (var option in question.Options)
                                        {
                                            <li>@option.OptionText (@option.OptionValue)</li>
                                        }
                                    </ul>
                                }
                            </small>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p>No questions available.</p>
            }
        </dd>
    </dl>
</div>

<div>
    <a asp-page="./Edit" asp-route-id="@Model.Form.FormId" class="btn btn-outline-dark">Edit</a> |
    <a class="btn btn-outline-dark" asp-page="./Index">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-square" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z" />
        </svg> Back to List
    </a>
</div>
