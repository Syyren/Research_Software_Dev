@page
@model Research_Software_Dev.Pages.Forms.SelectSessionModel
@{
    ViewData["Title"] = "Select Session and Participant";
}

<h1>Select Session and Participant</h1>

<form method="post">
    <!-- Step 1: Select Session -->
    <label for="session">Select Session:</label>
    <select id="session" name="SessionId" class="form-control" asp-for="SessionId" asp-items="Model.SessionOptions" onchange="this.form.submit()">
        <option value="">-- Select Session --</option>
    </select>

    <!-- Step 2: Select Participant -->
    <label for="participant">Select Participant:</label>
    <select id="participant" name="ParticipantId" class="form-control" asp-for="ParticipantId">
        <option value="">-- Select Participant --</option>
        @foreach (var participant in Model.FilteredParticipants)
        {
            <option value="@participant.ParticipantId">
                @participant.ParticipantFirstName @participant.ParticipantLastName
            </option>
        }
    </select>

    <button type="submit" class="btn btn-primary mt-2">Continue</button>
</form>
